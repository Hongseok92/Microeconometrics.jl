<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Model specification · Microeconometrics.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Microeconometrics.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Introduction</a></li><li><a class="toctext" href="getting_started.html">Getting started</a></li><li class="current"><a class="toctext" href="model_specification.html">Model specification</a><ul class="internal"></ul></li><li><a class="toctext" href="correlation_structures.html">Correlation structures</a></li><li><a class="toctext" href="estimators.html">Estimators</a></li><li><a class="toctext" href="methods.html">Methods</a></li><li><a class="toctext" href="hypothesis_tests.html">Hypothesis tests</a></li><li><a class="toctext" href="estimation_tables.html">Estimation tables</a></li><li><a class="toctext" href="bootstrapping.html">Bootstrapping</a></li><li><a class="toctext" href="contributing.html">Contributing</a></li><li><a class="toctext" href="to_do.html">To do</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="model_specification.html">Model specification</a></li></ul><a class="edit-page" href="https://github.com/lbittarello/Microeconometrics.jl/blob/master/docs/src/model_specification.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Model specification</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Model-specification-1" href="#Model-specification-1">Model specification</a></h1><p>Before you estimate a model, you must load the data and specify the role of each variable in the model. This packages defines <code>Microdata</code> for that purpose. This structure combines the functionalities of <code>ModelFrame</code> and <code>ModelMatrix</code> from <a href="https://github.com/JuliaStats/StatsModels.jl"><em>StatsModels.jl</em></a>.</p><pre><code class="language-julia">Microdata(
        DF::DataFrame,
        model::Dict{Symbol, String};
        contrasts::Dict,
        subset::AbstractVector{Bool} = trues(size(DF, 1)),
        vcov::CorrStructure = Heteroscedastic(),
        weights::AbstractWeights = UnitWeights(size(DF, 1))
    )</code></pre><p>To construct a <code>Microdata</code>, two arguments are compulsory: a <a href="http://juliadata.github.io/DataFrames.jl/stable/"><code>DataFrame</code></a>, which contains the data, and a dictionary, which specifies the components of the model of interest.</p><p>All regression models need a <code>response</code>, but other requirements may vary. (Check the <a href="estimators.html">documentation</a>!) For example, <code>OLS</code> asks for <code>response</code> and <code>control</code>. You pass these sets as strings, following the <a href="http://juliastats.github.io/StatsModels.jl/latest/formula.html">syntax of <code>Formula</code></a>. (See the <a href="getting_started.html">tutorial</a> for examples.) Conventional sets include:</p><ul><li><code>response</code>: the response (a.k.a. outcome or dependent variable);</li><li><code>control</code>: exogenous explanatory variables (n.b.: you must explicitly include intercepts, <code>+ 1</code>);</li><li><code>offset</code>: an exogenous variable whose coefficient is constrained to unity;</li><li><code>treatment</code>: endogenous explanatory variables;</li><li><code>instrument</code>: instrumental variables (i.e. excluded exogenous variables).</li></ul><p>As for the keywords:</p><ul><li><code>contrasts</code>: a dictionary from column labels to <a href="https://juliastats.github.io/StatsModels.jl/latest/contrasts.html">contrast schemes</a>.</li><li><code>subset</code> determines the estimation sample. Set an entry to <code>true</code> if the corresponding row of <code>DF</code> should be included and <code>false</code> if it should be excluded. This keyword is useful if you are comparing subgroups and observations in different subgroups may correlate (e.g., they may belong to the same cluster). <a href="hypothesis_tests.html#hausman-test"><code>hausman_2s</code></a> will account for that correlation if the <code>Microdata</code> were constructed with <code>subset</code>.</li><li><code>weights</code> is a <a href="http://juliastats.github.io/StatsBase.jl/stable/weights.html">weight vector</a>. Except for frequency weights, the weight vector is normalized to sum up to the number of observations in the sample.</li><li><code>vcov</code> is a <a href="correlation_structures.html">correlation structure</a>.</li></ul><p>It is also possible to base new <code>Microdata</code> on existing <code>Microdata</code>:</p><pre><code class="language-julia">Microdata(MD::Microdata, model::Dict{Symbol, String})</code></pre><p>This constructor allows you to reassign variables to new sets. You can also create new variable sets. If you do not redefine a set, it is preserved. To suppress a set, redefine it to <code>&quot;&quot;</code>. You cannot add new variables to the data matrix, modify the correlation structure, restrict the sample or reweight observations.</p><p>This functionality is useful if you wish to compare specifications. Rather than building separate data matrices for each one of them, you can build a master <code>Microdata</code>, holding all variables of interest, and adjust its map as you go through specifications.</p><footer><hr/><a class="previous" href="getting_started.html"><span class="direction">Previous</span><span class="title">Getting started</span></a><a class="next" href="correlation_structures.html"><span class="direction">Next</span><span class="title">Correlation structures</span></a></footer></article></body></html>
